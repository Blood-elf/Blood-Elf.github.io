(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{151:function(s,t,a){s.exports=a.p+"assets/img/bg2019020901.60b2d05e.jpg"},152:function(s,t,a){s.exports=a.p+"assets/img/7651625dly1g1zpkqov7pj20hs0m8762.0e1cb181.jpg"},425:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"第5章-包与npm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第5章-包与npm","aria-hidden":"true"}},[s._v("#")]),s._v(" 第5章 包与npm")]),s._v(" "),n("p",[n("strong",[s._v("学习目标")])]),s._v(" "),n("ul",[n("li",[s._v("掌握 npm 的常用命令")]),s._v(" "),n("li",[s._v("理解安装本地包和全局包的区别")]),s._v(" "),n("li",[s._v("理解 package.json 文件作用")])]),s._v(" "),n("h2",{attrs:{id:"npm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[s._v("#")]),s._v(" npm")]),s._v(" "),n("blockquote",[n("p",[s._v("参考链接：")]),s._v(" "),n("ul",[n("li",[s._v("https://docs.npmjs.com/getting-started/")])])]),s._v(" "),n("p",[s._v("npm 全称 "),n("code",[s._v("Node Package Manager")]),s._v("，它的诞生是为了解决 Node 中第三方包共享的问题。\n和浏览器一样，由于都是 JavaScript，所以前端开发也使用 npm 作为第三方包管理工具。\n例如大名鼎鼎的 jQuery、Bootstrap 等都可以通过 npm 来安装。\n所以官方把 npm 定义为 "),n("code",[s._v("JavaScript Package Manager")]),s._v("。")]),s._v(" "),n("p",[n("code",[s._v("npm")]),s._v(" 有两层含义。一层含义是Node的开放式模块登记和管理系统，网址为"),n("a",{attrs:{href:"http://npmjs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npmjs.org"),n("OutboundLink")],1),s._v("。另一层含义是Node默认的模块管理器，是一个命令行下的软件，用来安装和管理Node模块。")]),s._v(" "),n("p",[n("code",[s._v("npm")]),s._v("不需要单独安装。在安装Node的时候，会连带一起安装"),n("code",[s._v("npm")]),s._v("。")]),s._v(" "),n("p",[s._v("执行下面的命令可以用来查看本地安装的 npm 的版本号。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" --version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果想升级 npm ，可以这样")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" --global\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),n("blockquote",[n("p",[s._v("表格")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在项目中初始化一个 package.json 文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 凡是使用 npm 来管理的项目都会有这么一个文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跳过向导，快速生成 package.json 文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 简写是 -y")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init --yes\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一次性安装 dependencies 中所有的依赖项")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 简写是 npm i")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定的包，可以简写为 npm i 包名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm 5 以前只下载，不会保存依赖信息，如果需要保存，则需要加上 `--save` 选项")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm 5 以后就可以省略 --save 选项了")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 包名\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一次性安装多个指定包")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 包名 包名 包名 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装指定版本的包")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 包名@版本号\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm list命令以树型结构列出当前项目安装的所有模块，以及它们依赖的模块。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" list\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加上global参数，会列出全局安装的模块")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" list -global\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm list命令也可以列出单个模块")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" list 包名\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装全局包")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --global 包名\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新本地安装的模块")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 它会先到远程仓库查询最新版本，然后查询本地版本。如果本地版本不存在，或者远程版本较新，就会安装")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("package name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 升级全局安装的模块")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" update -global "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("package name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载指定的包")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" uninstall 包名\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看包信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# view 别名：v、info、show")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view 包名\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看使用帮助")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看某个命令的使用帮助")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如我忘记了 uninstall 命令的简写了，这个时候，可以输入 `npm uninstall --help` 来查看使用帮助")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" 命令 --help\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br")])]),n("h2",{attrs:{id:"全局命令行工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局命令行工具","aria-hidden":"true"}},[s._v("#")]),s._v(" 全局命令行工具")]),s._v(" "),n("p",[s._v("每个模块可以“全局安装”，也可以“本地安装”。“全局安装”指的是将一个模块安装到系统目录中，各个项目都可以调用。一般来说，全局安装只适用于工具模块，比如"),n("code",[s._v("eslint")]),s._v("和"),n("code",[s._v("gulp")]),s._v("。“本地安装”指的是将一个模块下载到当前项目的"),n("code",[s._v("node_modules")]),s._v("子目录，然后只有在项目目录之中，才能调用这个模块。")]),s._v(" "),n("blockquote",[n("p",[s._v("提示：安装全局包必须加 "),n("code",[s._v("--global")]),s._v(" 参数")])]),s._v(" "),n("h3",{attrs:{id:"http-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-server","aria-hidden":"true"}},[s._v("#")]),s._v(" http-server")]),s._v(" "),n("blockquote",[n("p",[s._v("https://github.com/indexzero/http-server#readme")])]),s._v(" "),n("h3",{attrs:{id:"nodemon"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nodemon","aria-hidden":"true"}},[s._v("#")]),s._v(" nodemon")]),s._v(" "),n("blockquote",[n("p",[s._v("http://nodemon.io/")])]),s._v(" "),n("h3",{attrs:{id:"less"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#less","aria-hidden":"true"}},[s._v("#")]),s._v(" less")]),s._v(" "),n("blockquote",[n("p",[s._v("http://lesscss.org/")])]),s._v(" "),n("h3",{attrs:{id:"browser-sync"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#browser-sync","aria-hidden":"true"}},[s._v("#")]),s._v(" browser-sync")]),s._v(" "),n("blockquote",[n("p",[s._v("https://browsersync.io/")])]),s._v(" "),n("h2",{attrs:{id:"切换-npm-镜像源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#切换-npm-镜像源","aria-hidden":"true"}},[s._v("#")]),s._v(" 切换 npm 镜像源")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("npm install jquery --registry=https://registry.npm.taobao.org")])]),s._v(" "),n("li",[n("code",[s._v("npm config set registry https://registry.npm.taobao.org")])]),s._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/Pana/nrm",target:"_blank",rel:"noopener noreferrer"}},[s._v("nrm"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("npm 存储包文件的服务器在国外，有时候会被墙，速度很慢，所以我们需要解决这个问题。")]),s._v(" "),n("p",[s._v("国内淘宝的开发团队把 npm 在国内做了一个备份，网址是：http://npm.taobao.org/。")]),s._v(" "),n("p",[s._v("最简单的方式就是我们在安装包的时候告诉 npm 你去哪个服务器下载。")]),s._v(" "),n("p",[s._v("例如使用淘宝的 npm 镜像源下载 jquery:")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jquery --registry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("但是每次手动往后面加 "),n("code",[s._v("--registry=https://registry.npm.taobao.org")]),s._v(" 很麻烦，\n所以我们可以通过修改配置文件的方式来处理解决。")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置到淘宝服务器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 registry 是否配置正确")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get registry\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("只要经过了上面命令的配置，则你以后所有的 "),n("code",[s._v("npm install")]),s._v(" 都会使用你配置的 "),n("code",[s._v("registry")]),s._v(" 下载。")]),s._v(" "),n("h2",{attrs:{id:"package-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#package-json","aria-hidden":"true"}},[s._v("#")]),s._v(" package.json")]),s._v(" "),n("p",[s._v("每个项目的根目录下面，一般都有一个"),n("code",[s._v("package.json")]),s._v("文件，定义了这个项目所需要的各种模块，以及项目的配置信息（比如名称、版本、许可证等元数据）。"),n("code",[s._v("npm install")]),s._v("命令根据这个配置文件，自动下载所需的模块，也就是配置项目所需的运行和开发环境。")]),s._v(" "),n("p",[s._v("package.json文件可以手工编写，也可以使用"),n("code",[s._v("npm init")]),s._v("命令自动生成。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("这个命令采用互动方式，要求用户回答一些问题，然后在当前目录生成一个基本的package.json文件。所有问题之中，只有项目名称（name）和项目版本（version）是必填的，其他都是选填的。")]),s._v(" "),n("p",[s._v("这个文件可以通过 "),n("code",[s._v("npm init")]),s._v(" 的方式来自动初始化出来。")]),s._v(" "),n("p",[s._v("下面是一个最简单的package.json文件，只定义两项元数据：项目名称和项目版本。")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("code",[s._v("package.json")]),s._v("文件就是一个JSON对象，该对象的每一个成员就是当前项目的一项设置。比如"),n("code",[s._v("name")]),s._v("就是项目名称，"),n("code",[s._v("version")]),s._v("是版本（遵守“大版本.次要版本.小版本”的格式）。")]),s._v(" "),n("p",[s._v("下面是一个更完整的package.json文件。")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"张三"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第一个node.js程序"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keywords"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javascript"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"repository"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://path/to/url"')]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MIT"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"engines"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"node"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.10.x"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bugs"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://path/to/bug"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bug@example.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"contributors"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"李四"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lisi@example.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node index.js"')]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"express"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"latest"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"mongoose"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~3.8.3"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"handlebars-runtime"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.0.12"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"express3-handlebars"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~0.5.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"MD5"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.2.0"')]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bower"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.2.8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"grunt"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~0.4.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"grunt-contrib-concat"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~0.3.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"grunt-contrib-jshint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~0.7.2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"grunt-contrib-uglify"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~0.2.7"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"grunt-contrib-clean"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~0.5.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"browserify"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2.36.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"grunt-browserify"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~1.3.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("p",[s._v("下面详细解释package.json文件的各个字段。")]),s._v(" "),n("h3",{attrs:{id:"dependencies"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dependencies","aria-hidden":"true"}},[s._v("#")]),s._v(" dependencies")]),s._v(" "),n("p",[n("code",[s._v("dependencies")]),s._v("字段指定了项目运行所依赖的模块，"),n("code",[s._v("devDependencies")]),s._v("指定项目开发所需要的模块。")]),s._v(" "),n("p",[s._v("它们都指向一个对象。该对象的各个成员，分别由模块名和对应的版本要求组成，表示依赖的模块及其版本范围。")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"browserify"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~13.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"karma-browserify"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"~5.0.1"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("对应的版本可以加上各种限定，主要有以下几种：")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("指定版本")]),s._v("：比如"),n("code",[s._v("1.2.2")]),s._v("，遵循“大版本.次要版本.小版本”的格式规定，安装时只安装指定版本。")]),s._v(" "),n("li",[n("strong",[s._v("波浪号（tilde）+指定版本")]),s._v("：比如"),n("code",[s._v("~1.2.2")]),s._v("，表示安装1.2.x的最新版本（不低于1.2.2），但是不安装1.3.x，也就是说安装时不改变大版本号和次要版本号。")]),s._v(" "),n("li",[n("strong",[s._v("插入号（caret）+指定版本")]),s._v("：比如ˆ1.2.2，表示安装1.x.x的最新版本（不低于1.2.2），但是不安装2.x.x，也就是说安装时不改变大版本号。需要注意的是，如果大版本号为0，则插入号的行为与波浪号相同，这是因为此时处于开发阶段，即使是次要版本号变动，也可能带来程序的不兼容。")]),s._v(" "),n("li",[n("strong",[s._v("latest")]),s._v("：安装最新版本。")])]),s._v(" "),n("h3",{attrs:{id:"main"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#main","aria-hidden":"true"}},[s._v("#")]),s._v(" main")]),s._v(" "),n("p",[n("code",[s._v("main")]),s._v("字段指定了加载的入口文件，"),n("code",[s._v("require('moduleName')")]),s._v("就会加载这个文件。这个字段的默认值是模块根目录下面的"),n("code",[s._v("index.js")]),s._v("。")]),s._v(" "),n("h3",{attrs:{id:"scripts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#scripts","aria-hidden":"true"}},[s._v("#")]),s._v(" scripts")]),s._v(" "),n("p",[n("code",[s._v("scripts")]),s._v("指定了运行脚本命令的npm命令行缩写，比如start指定了运行"),n("code",[s._v("npm run start")]),s._v("时，所要执行的命令。")]),s._v(" "),n("p",[s._v("下面的设置指定了"),n("code",[s._v("npm run preinstall")]),s._v("、"),n("code",[s._v("npm run postinstall")]),s._v("、"),n("code",[s._v("npm run start")]),s._v("、"),n("code",[s._v("npm run test")]),s._v("时，所要执行的命令。")]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"preinstall"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo here it comes!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"postinstall"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo there it goes!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node index.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tap test/*.js"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("blockquote",[n("p",[s._v("扩展阅读："),n("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm scripts 使用指南"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"package-lock-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#package-lock-json","aria-hidden":"true"}},[s._v("#")]),s._v(" package-lock.json")]),s._v(" "),n("p",[s._v("npm 5 以前是不会有 "),n("code",[s._v("package-lock.json")]),s._v(" 这个文件的。（被开发者诟病，吐槽的问题）。")]),s._v(" "),n("p",[s._v("以前会自作多情的自动给你升级。")]),s._v(" "),n("p",[s._v("npm 5 以后才加入了这个文件。")]),s._v(" "),n("p",[s._v("当你安装包的时候，npm 都会生成或者更新 "),n("code",[s._v("package-lock.json")]),s._v(" 这个文件。")]),s._v(" "),n("ul",[n("li",[s._v("npm 5 以后的版本安装包不需要加 "),n("code",[s._v("--save")]),s._v(" 参数，它会自动保存依赖信息")]),s._v(" "),n("li",[s._v("当你安装包的时候，会自动创建或者是更新 "),n("code",[s._v("package-lock.json")]),s._v(" 这个文件")]),s._v(" "),n("li",[n("code",[s._v("package-lock.json")]),s._v(" 这个文件会保存 "),n("code",[s._v("node_modules")]),s._v(" 中所有包的信息（版本、下载地址）\n"),n("ul",[n("li",[s._v("这样的话重新 "),n("code",[s._v("npm install")]),s._v(" 的时候速度就可以提升")])])]),s._v(" "),n("li",[s._v("从文件来看，有一个 "),n("code",[s._v("lock")]),s._v(" 称之为锁\n"),n("ul",[n("li",[s._v("这个 "),n("code",[s._v("lock")]),s._v(" 是用来锁定版本的")]),s._v(" "),n("li",[s._v("如果项目依赖了 "),n("code",[s._v("1.1.1")]),s._v(" 版本")]),s._v(" "),n("li",[s._v("如果你重新 isntall 其实会下载最新版本，而不是 1.1.1")]),s._v(" "),n("li",[s._v("我们的目的就是希望可以锁住 1.1.1 这个版本")]),s._v(" "),n("li",[s._v("所以这个 "),n("code",[s._v("package-lock.json")]),s._v(" 这个文件的另一个作用就是锁定版本号，防止自动升级新版")])])])]),s._v(" "),n("h2",{attrs:{id:"npx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npx","aria-hidden":"true"}},[s._v("#")]),s._v(" npx")]),s._v(" "),n("blockquote",[n("p",[s._v("参考链接：")]),s._v(" "),n("ul",[n("li",[s._v("http://www.ruanyifeng.com/blog/2019/02/npx.html")]),s._v(" "),n("li",[s._v("https://github.com/zkat/npx")]),s._v(" "),n("li",[s._v("https://www.jianshu.com/p/cee806439865")])])]),s._v(" "),n("p",[s._v("npm 从5.2版开始，增加了 npx 命令。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(151),alt:"img"}})]),s._v(" "),n("p",[s._v("Node 自带 npm 模块，所以可以直接使用 npx 命令。万一不能用，就要手动安装一下。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g npx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"调用项目安装的模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#调用项目安装的模块","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用项目安装的模块")]),s._v(" "),n("p",[s._v("npx 想要解决的主要问题，就是调用项目内部安装的模块。比如，项目内部安装了测试工具 "),n("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mocha"),n("OutboundLink")],1),s._v("。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -D mocha\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("一般来说，调用 Mocha ，只能在项目脚本和 package.json 的"),n("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[s._v("scripts")]),n("OutboundLink")],1),s._v("字段里面， 如果想在命令行下调用，必须像下面这样。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目的根目录下执行")]),s._v("\n$ node-modules/.bin/mocha --version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("npx 就是想解决这个问题，让项目内部安装的模块用起来更方便，只要像下面这样调用就行了。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx mocha --version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("npx 的原理很简单，就是运行的时候，会到"),n("code",[s._v("node_modules/.bin")]),s._v("路径和环境变量"),n("code",[s._v("$PATH")]),s._v("里面，检查命令是否存在。")]),s._v(" "),n("p",[s._v("由于 npx 会检查环境变量"),n("code",[s._v("$PATH")]),s._v("，所以系统命令也可以调用。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于 ls")]),s._v("\nnpx "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("注意，Bash 内置的命令不在"),n("code",[s._v("$PATH")]),s._v("里面，所以不能用。比如，"),n("code",[s._v("cd")]),s._v("是 Bash 命令，因此就不能用"),n("code",[s._v("npx cd")]),s._v("。")]),s._v(" "),n("h3",{attrs:{id:"避免全局安装模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#避免全局安装模块","aria-hidden":"true"}},[s._v("#")]),s._v(" 避免全局安装模块")]),s._v(" "),n("p",[s._v("除了调用项目内部模块，npx 还能避免全局安装的模块。比如，"),n("code",[s._v("create-react-app")]),s._v("这个模块是全局安装，npx 可以运行它，而且不进行全局安装。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx create-react-app my-react-app\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("上面代码运行时，npx 将"),n("code",[s._v("create-react-app")]),s._v("下载到一个临时目录，使用以后再删除。所以，以后再次执行上面的命令，会重新下载"),n("code",[s._v("create-react-app")]),s._v("。")]),s._v(" "),n("p",[s._v("下载全局模块时，npx 允许指定版本。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx uglify-js@3.1.0 main.js -o ./dist/main.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("上面代码指定使用 3.1.0 版本的"),n("code",[s._v("uglify-js")]),s._v("压缩脚本。")]),s._v(" "),n("p",[s._v("注意，只要 npx 后面的模块无法在本地发现，就会下载同名模块。比如，本地没有安装"),n("code",[s._v("http-server")]),s._v("模块，下面的命令会自动下载该模块，在当前目录启动一个 Web 服务。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx http-server\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"no-install-参数和-ignore-existing-参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#no-install-参数和-ignore-existing-参数","aria-hidden":"true"}},[s._v("#")]),s._v(" --no-install 参数和 --ignore-existing 参数")]),s._v(" "),n("p",[s._v("如果想让 npx 强制使用本地模块，不下载远程模块，可以使用"),n("code",[s._v("--no-install")]),s._v("参数。如果本地不存在该模块，就会报错。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx --no-install http-server\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("反过来，如果忽略本地的同名模块，强制安装使用远程模块，可以使用"),n("code",[s._v("--ignore-existing")]),s._v("参数。比如，本地已经全局安装了"),n("code",[s._v("create-react-app")]),s._v("，但还是想使用远程模块，就用这个参数。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx --ignore-existing create-react-app my-react-app\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"使用不同版本的-node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用不同版本的-node","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用不同版本的 node")]),s._v(" "),n("p",[s._v("利用 npx 可以下载模块这个特点，可以指定某个版本的 Node 运行脚本。它的窍门就是使用 npm 的 "),n("a",{attrs:{href:"https://www.npmjs.com/package/node",target:"_blank",rel:"noopener noreferrer"}},[s._v("node 模块"),n("OutboundLink")],1),s._v("。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("npx node@0.12.8 -v\nv0.12.8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("上面命令会使用 0.12.8 版本的 Node 执行脚本。原理是从 npm 下载这个版本的 node，使用后再删掉。")]),s._v(" "),n("p",[s._v("某些场景下，这个方法用来切换 Node 版本，要比 nvm 那样的版本管理器方便一些。")]),s._v(" "),n("h3",{attrs:{id:"相关链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关链接","aria-hidden":"true"}},[s._v("#")]),s._v(" 相关链接")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/02/npx.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.ruanyifeng.com/blog/2019/02/npx.html"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"扩展阅读"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#扩展阅读","aria-hidden":"true"}},[s._v("#")]),s._v(" 扩展阅读")]),s._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"http://javascript.ruanyifeng.com/nodejs/npm.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 模块管理器"),n("OutboundLink")],1)])]),s._v(" "),n("li",[n("p",[n("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2016/01/npm-install.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm 模块安装机制"),n("OutboundLink")],1)])])]),s._v(" "),n("h2",{attrs:{id:"小结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小结","aria-hidden":"true"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),n("p",[n("img",{attrs:{src:a(152),alt:"img"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);