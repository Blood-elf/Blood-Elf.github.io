<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第 7 章 Vue Router | Blood-elf</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="/favicon.png">
  <link rel="stylesheet" href="/css/style.css">
  <script charset="utf-8" src="/js/main.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.34ff1413.css" as="style"><link rel="preload" href="/assets/js/app.d141dca1.js" as="script"><link rel="preload" href="/assets/js/2.3338fc20.js" as="script"><link rel="preload" href="/assets/js/103.f9e8e238.js" as="script"><link rel="prefetch" href="/assets/js/10.1ae9bd8b.js"><link rel="prefetch" href="/assets/js/100.3fe0b234.js"><link rel="prefetch" href="/assets/js/101.d11a6165.js"><link rel="prefetch" href="/assets/js/102.9d646381.js"><link rel="prefetch" href="/assets/js/104.6f85cd04.js"><link rel="prefetch" href="/assets/js/105.44893955.js"><link rel="prefetch" href="/assets/js/106.08f71874.js"><link rel="prefetch" href="/assets/js/107.98ec668b.js"><link rel="prefetch" href="/assets/js/108.2e3bc1fc.js"><link rel="prefetch" href="/assets/js/109.61f3e842.js"><link rel="prefetch" href="/assets/js/11.97be4997.js"><link rel="prefetch" href="/assets/js/110.cf346c03.js"><link rel="prefetch" href="/assets/js/111.ac533fe2.js"><link rel="prefetch" href="/assets/js/112.1b6d2842.js"><link rel="prefetch" href="/assets/js/113.2d532978.js"><link rel="prefetch" href="/assets/js/114.b2d2f3ec.js"><link rel="prefetch" href="/assets/js/115.d7a5c8d2.js"><link rel="prefetch" href="/assets/js/116.b272fa47.js"><link rel="prefetch" href="/assets/js/117.2048675e.js"><link rel="prefetch" href="/assets/js/118.56bbc625.js"><link rel="prefetch" href="/assets/js/119.d62d253c.js"><link rel="prefetch" href="/assets/js/12.39e4754d.js"><link rel="prefetch" href="/assets/js/120.df52a956.js"><link rel="prefetch" href="/assets/js/121.e708bafb.js"><link rel="prefetch" href="/assets/js/122.41cacbe4.js"><link rel="prefetch" href="/assets/js/123.88681497.js"><link rel="prefetch" href="/assets/js/124.d2b93a7b.js"><link rel="prefetch" href="/assets/js/13.20b189ce.js"><link rel="prefetch" href="/assets/js/14.5cf84dd2.js"><link rel="prefetch" href="/assets/js/15.7db973cd.js"><link rel="prefetch" href="/assets/js/16.14f6e2e9.js"><link rel="prefetch" href="/assets/js/17.ec22f8e4.js"><link rel="prefetch" href="/assets/js/18.6e9f758c.js"><link rel="prefetch" href="/assets/js/19.6900722c.js"><link rel="prefetch" href="/assets/js/20.ddef478d.js"><link rel="prefetch" href="/assets/js/21.614905af.js"><link rel="prefetch" href="/assets/js/22.93551be2.js"><link rel="prefetch" href="/assets/js/23.22c2e0b2.js"><link rel="prefetch" href="/assets/js/24.b64cc7ad.js"><link rel="prefetch" href="/assets/js/25.d096308d.js"><link rel="prefetch" href="/assets/js/26.11af28a6.js"><link rel="prefetch" href="/assets/js/27.824f051c.js"><link rel="prefetch" href="/assets/js/28.a248d924.js"><link rel="prefetch" href="/assets/js/29.d6b45cea.js"><link rel="prefetch" href="/assets/js/3.3ed158ee.js"><link rel="prefetch" href="/assets/js/30.33aaedb5.js"><link rel="prefetch" href="/assets/js/31.1f858011.js"><link rel="prefetch" href="/assets/js/32.8a8fe43c.js"><link rel="prefetch" href="/assets/js/33.9669d98d.js"><link rel="prefetch" href="/assets/js/34.98d1a152.js"><link rel="prefetch" href="/assets/js/35.c6a97bd1.js"><link rel="prefetch" href="/assets/js/36.aa33deb9.js"><link rel="prefetch" href="/assets/js/37.00e031ce.js"><link rel="prefetch" href="/assets/js/38.0064a49d.js"><link rel="prefetch" href="/assets/js/39.3bfd12b2.js"><link rel="prefetch" href="/assets/js/4.0a474c48.js"><link rel="prefetch" href="/assets/js/40.c9aa506a.js"><link rel="prefetch" href="/assets/js/41.c641d3ad.js"><link rel="prefetch" href="/assets/js/42.ca0b826a.js"><link rel="prefetch" href="/assets/js/43.9d78ceb2.js"><link rel="prefetch" href="/assets/js/44.1c8631d5.js"><link rel="prefetch" href="/assets/js/45.87177a53.js"><link rel="prefetch" href="/assets/js/46.c5d167fe.js"><link rel="prefetch" href="/assets/js/47.a4cb5623.js"><link rel="prefetch" href="/assets/js/48.2d5671cc.js"><link rel="prefetch" href="/assets/js/49.a5571223.js"><link rel="prefetch" href="/assets/js/5.f6ebbbd7.js"><link rel="prefetch" href="/assets/js/50.7ea18df2.js"><link rel="prefetch" href="/assets/js/51.2c4d10b2.js"><link rel="prefetch" href="/assets/js/52.74a423ab.js"><link rel="prefetch" href="/assets/js/53.4649512f.js"><link rel="prefetch" href="/assets/js/54.871ac9c8.js"><link rel="prefetch" href="/assets/js/55.d4b9fd7a.js"><link rel="prefetch" href="/assets/js/56.5758b4bf.js"><link rel="prefetch" href="/assets/js/57.5656f3d9.js"><link rel="prefetch" href="/assets/js/58.6389b85a.js"><link rel="prefetch" href="/assets/js/59.a69b4255.js"><link rel="prefetch" href="/assets/js/6.957a5334.js"><link rel="prefetch" href="/assets/js/60.edd3fe9c.js"><link rel="prefetch" href="/assets/js/61.ba4b6feb.js"><link rel="prefetch" href="/assets/js/62.3df86942.js"><link rel="prefetch" href="/assets/js/63.d76f5281.js"><link rel="prefetch" href="/assets/js/64.b6fcdef8.js"><link rel="prefetch" href="/assets/js/65.dc6facb9.js"><link rel="prefetch" href="/assets/js/66.280b6efc.js"><link rel="prefetch" href="/assets/js/67.a337dcdb.js"><link rel="prefetch" href="/assets/js/68.ce1cce5c.js"><link rel="prefetch" href="/assets/js/69.af49473d.js"><link rel="prefetch" href="/assets/js/7.5346c4ac.js"><link rel="prefetch" href="/assets/js/70.ba7b389d.js"><link rel="prefetch" href="/assets/js/71.3cabe687.js"><link rel="prefetch" href="/assets/js/72.685879b9.js"><link rel="prefetch" href="/assets/js/73.638904a3.js"><link rel="prefetch" href="/assets/js/74.6e075733.js"><link rel="prefetch" href="/assets/js/75.ac283cad.js"><link rel="prefetch" href="/assets/js/76.cc22ef13.js"><link rel="prefetch" href="/assets/js/77.7df85444.js"><link rel="prefetch" href="/assets/js/78.e3d1dfd5.js"><link rel="prefetch" href="/assets/js/79.efd85d2b.js"><link rel="prefetch" href="/assets/js/8.c7e88e55.js"><link rel="prefetch" href="/assets/js/80.17fa534f.js"><link rel="prefetch" href="/assets/js/81.52e5b96e.js"><link rel="prefetch" href="/assets/js/82.806f8071.js"><link rel="prefetch" href="/assets/js/83.7a5aa025.js"><link rel="prefetch" href="/assets/js/84.f5ae8349.js"><link rel="prefetch" href="/assets/js/85.81c53ca9.js"><link rel="prefetch" href="/assets/js/86.bfe7121d.js"><link rel="prefetch" href="/assets/js/87.1f300e78.js"><link rel="prefetch" href="/assets/js/88.eeaa1d39.js"><link rel="prefetch" href="/assets/js/89.78195f9b.js"><link rel="prefetch" href="/assets/js/9.45c4e926.js"><link rel="prefetch" href="/assets/js/90.cf01763f.js"><link rel="prefetch" href="/assets/js/91.34261f85.js"><link rel="prefetch" href="/assets/js/92.2f2eb41e.js"><link rel="prefetch" href="/assets/js/93.465cd3cc.js"><link rel="prefetch" href="/assets/js/94.db66e291.js"><link rel="prefetch" href="/assets/js/95.5357f42c.js"><link rel="prefetch" href="/assets/js/96.f09d1cde.js"><link rel="prefetch" href="/assets/js/97.6dc881da.js"><link rel="prefetch" href="/assets/js/98.60c108e9.js"><link rel="prefetch" href="/assets/js/99.34a42de4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34ff1413.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blood-elf</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">STUDY</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nodejs/" class="nav-link">nodejs</a></li><li class="dropdown-subitem"><a href="/vuejs/base/" class="nav-link router-link-active">vuejs</a></li><li class="dropdown-subitem"><a href="/es6/" class="nav-link">es6</a></li></ul></li><li class="dropdown-item"><h4>项目实战</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuejs/topline-pc/" class="nav-link">PC端</a></li><li class="dropdown-subitem"><a href="/vuejs/topline-mobile/" class="nav-link">移动端</a></li></ul></li><li class="dropdown-item"><!----> <a href="/vuejs/extends/" class="nav-link">扩展</a></li><li class="dropdown-item"><h4>brower</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/js/" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Archives</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs/vue-analysis/" class="nav-link">Vue 源码解析</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">STUDY</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nodejs/" class="nav-link">nodejs</a></li><li class="dropdown-subitem"><a href="/vuejs/base/" class="nav-link router-link-active">vuejs</a></li><li class="dropdown-subitem"><a href="/es6/" class="nav-link">es6</a></li></ul></li><li class="dropdown-item"><h4>项目实战</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuejs/topline-pc/" class="nav-link">PC端</a></li><li class="dropdown-subitem"><a href="/vuejs/topline-mobile/" class="nav-link">移动端</a></li></ul></li><li class="dropdown-item"><!----> <a href="/vuejs/extends/" class="nav-link">扩展</a></li><li class="dropdown-item"><h4>brower</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/js/" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Archives</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs/vue-analysis/" class="nav-link">Vue 源码解析</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuejs/base/" class="sidebar-link">Vue.js 基础</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>VueJS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuejs/base/chapter1.html" class="sidebar-link">第 1 章 Vue.js 介绍</a></li><li><a href="/vuejs/base/chapter2.html" class="sidebar-link">第 2 章 Vue 基础</a></li><li><a href="/vuejs/base/chapter3.html" class="sidebar-link">第 3 章 基础案例</a></li><li><a href="/vuejs/base/chapter4.html" class="sidebar-link">第 4 章 和服务端通信</a></li><li><a href="/vuejs/base/chapter5.html" class="sidebar-link">第 5 章 组件基础</a></li><li><a href="/vuejs/base/chapter6.html" class="sidebar-link">第 6 章 过渡&amp;动画</a></li><li><a href="/vuejs/base/chapter7.html" class="active sidebar-link">第 7 章 Vue Router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#单页面应用程序" class="sidebar-link">单页面应用程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#优缺点" class="sidebar-link">优缺点</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#单页面导航路径" class="sidebar-link">单页面导航路径</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#工作原理" class="sidebar-link">工作原理</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#hash-模式" class="sidebar-link">hash 模式</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#history-模式" class="sidebar-link">history 模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#直接下载-cdn" class="sidebar-link">直接下载 / CDN</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#npm" class="sidebar-link">NPM</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#hello-world" class="sidebar-link">Hello World</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#动态路由匹配" class="sidebar-link">动态路由匹配</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#嵌套路由" class="sidebar-link">嵌套路由</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#编程式导航" class="sidebar-link">编程式导航</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#命名路由" class="sidebar-link">命名路由</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#命名视图" class="sidebar-link">命名视图</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#重定向和别名" class="sidebar-link">重定向和别名</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#相关-api" class="sidebar-link">相关 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#路由对象-this-route" class="sidebar-link">路由对象 this.\$route</a></li><li class="sidebar-sub-header"><a href="/vuejs/base/chapter7.html#router-实例" class="sidebar-link">Router 实例</a></li></ul></li></ul></li><li><a href="/vuejs/base/chapter8.html" class="sidebar-link">第 8 章 Vue CLI</a></li><li><a href="/vuejs/base/chapter9.html" class="sidebar-link">第 9 章 基础综合案例</a></li><li><a href="/vuejs/base/chapter10.html" class="sidebar-link">第 10 章 项目实战(PC端)</a></li><li><a href="/vuejs/base/chapter11.html" class="sidebar-link">第 11 章 webpack</a></li><li><a href="/vuejs/base/chapter12.html" class="sidebar-link">第 12 章 Vuex</a></li><li><a href="/vuejs/base/chapter13.html" class="sidebar-link">第 13 章 项目实战(移动端)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第-7-章-vue-router"><a href="#第-7-章-vue-router" aria-hidden="true" class="header-anchor">#</a> 第 7 章 Vue Router</h1> <h2 id="单页面应用程序"><a href="#单页面应用程序" aria-hidden="true" class="header-anchor">#</a> 单页面应用程序</h2> <p>几个比较典型的单页面应用程序网站：</p> <ul><li><a href="https://music.163.com/" target="_blank" rel="noopener noreferrer">网易云音乐<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://coding.net/" target="_blank" rel="noopener noreferrer">CODING<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>。。。</li></ul> <p><strong>单页应用</strong>（英语：single-page application，缩写<strong>SPA</strong>）是一种<a href="https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" target="_blank" rel="noopener noreferrer">网络应用程序<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>或<a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E7%AB%99" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的模型，它通过动态重写当前页面来与用户交互，而非传统的从服务器重新加载整个新页面。这种方法避免了页面之间切换打断<a href="https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C" target="_blank" rel="noopener noreferrer">用户体验<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，使应用程序更像一个<a href="https://zh.wikipedia.org/wiki/%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6" target="_blank" rel="noopener noreferrer">桌面应用程序<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>单页应用的出现不可考。从 <a href="https://en.wikipedia.org/wiki/Single-page_application#History" target="_blank" rel="noopener noreferrer">Wikipedia<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 上可以看到，起源很早，甚至可以追溯到2002年。你可能会说，这不是什么新概念，Google 的 <a href="http://tinyambition.com/Single-Page-App-Break/mail.google.com" target="_blank" rel="noopener noreferrer">Gmail<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 就是一个单页应用，可追溯到2004年到2005年。但这个概念火热起来在2010年，Backbone 问世之后。随着后来的 Knockout、Ember.js、AngularJS 的兴起，单页应用开始家喻户晓起来。2015年 React 的出现，Virtual DOM 横扫了各种 MV* 框架，单页应用框架甚至进入到了一个新的时代。目前主流的前端开发框架都可以让你轻松的构建单页面应用程序。</p> <p>SPA技术将逻辑从服务器转移到了客户端。这导致Web服务器发展为一个纯数据API或Web服务。这种架构的转变在一些圈子中被称为“瘦服务器架构”，以强调复杂性已从服务端转移到客户端，并认为这最终降低了系统的整体复杂性。</p> <p>下面是单页面应用和传统的多页面应用各自的交互方式：</p> <p>多页面应用，多页面跳转刷新所有资源：</p> <p><img src="assets/image-20190617223054564.png" alt="image-20190617223054564"></p> <p>在传统的网页应用中，浏览器更多的是充当一个展示层，路由处理、服务调用、页面跳转流程都由服务端来处理。即 MVC 都放在服务器端，而 V 作为用户界面则通过网络发送到浏览器端，作为 UI 与用户交互。</p> <p>这样的范式有以下特点：</p> <ul><li><strong>重服务端</strong>，由于 MVC 都存在于服务器上，因此这类应用在开发资源和开发的重心都偏向后端，往往是后端工程师来主导整个项目开发；</li> <li><strong>页面频繁刷新</strong>，由于浏览器端只是一个展现层，当页面功能有所变化的时，页面就刷新，这会导致资源的浪费，用户需要花费额外的时间等待页面刷新，用户体验不佳。</li></ul> <p>单页面应用，只有一张Web页面的应用，是一种从Web服务器加载的富客户端，单页面跳转仅刷新局部资源 ，公共资源(js、css等)仅需加载一次：</p> <p><img src="assets/image-20190617223143378.png" alt="image-20190617223143378"></p> <h3 id="优缺点"><a href="#优缺点" aria-hidden="true" class="header-anchor">#</a> 优缺点</h3> <p>优点：</p> <ul><li><strong>增强用户体验</strong>，这个应该是最显著的有点，由于路由分发直接在浏览器端完成，页面是不刷新，对用户的响应非常及时，因此提升了用户体验</li> <li><strong>减轻服务器压力</strong>，服务器只用出数据就可以，不用管展示逻辑和页面合成，吞吐能力会提高几倍</li> <li><strong>完全的前端组件化</strong>，前端开发不再以页面为单位，更多地采用组件化的思想，代码结构和组织方式更加规范化，便于修改和调整</li> <li><strong>良好的前后端分离开发</strong>，前端负责界面显示，后端负责数据存储和计算，各司其职，不会把前后端的逻辑混杂在一起</li></ul> <p>缺点：</p> <ul><li><p><strong>不利于 SEO</strong>，单页页面，数据在前端渲染，就意味着没有 SEO，或者需要使用变通的方案</p> <ul><li>不过目前可以配置服务端渲染来解决这个问题，但还不够足够成熟</li></ul></li> <li><p><strong>初次加载耗时相对增多</strong>，要在一个页面上为用户提供产品的所有功能，在这个页面加载的时候，首先要加载大量的静态资源，这个加载时间相对比较长</p></li> <li><p><strong>较高的前端开发门槛</strong>，对开发人员技能水平要求较高，不再是『切切图，画画页面这么简单』</p></li> <li><p>低版本浏览器兼容差</p></li></ul> <h3 id="单页面导航路径"><a href="#单页面导航路径" aria-hidden="true" class="header-anchor">#</a> 单页面导航路径</h3> <ul><li>概念</li> <li>路径
<ul><li>一般使用锚点，也就是 hash 作为页面导航的路径标识</li> <li>为什么？因为正常的 url 地址会发请求，而 hash 锚点不会发请求刷新页面</li></ul></li> <li>VueRouter 内部监视了 hash 的改变
<ul><li>window.onhashchange</li></ul></li> <li>然后根据 hash 的改变去展示路由规则中配置的组件</li> <li>Vue Router 默认要求 hash 导航路径都以 #/ 开头
<ul><li>为什么？</li> <li>主要是为了和正常的 hash 锚点（网页内部定位，id）作区别</li> <li>例如我们使用锚点内部定位的时候，需要给元素起 id，我们几乎不会给这个 id 起名为 /xxx</li> <li>如果 VueRouter 没有 #/ 的规则，例如直接 #foo 就可能会和你锚点的那个 id foo 冲突。</li></ul></li></ul> <p>有人会说，能不能让 url 漂亮点儿，不要使用 hash 呢？</p> <p>可以。</p> <p>我们可以利用 HTML5 history 的的方式使用传统的 url。（我们可以用 JavaScript 代码控制 url）。</p> <ul><li>VueRouter 默认是 hash 路径模式</li> <li>它也支持传统的 url 模式（HTML5 history）https://router.vuejs.org/zh/guide/#html
<ul><li>需要额外的服务器配置</li></ul></li></ul> <h3 id="工作原理"><a href="#工作原理" aria-hidden="true" class="header-anchor">#</a> 工作原理</h3> <ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History_API" target="_blank" rel="noopener noreferrer">HTML5 History API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>优雅</li> <li>同构应用友好</li></ul></li> <li><p>Hash</p> <ul><li>兼容性好</li></ul></li> <li><p>hash 模式</p> <ul><li>兼容性更好，不需要后端处理任何配置</li> <li>file 协议或是 http 协议都可以运行</li> <li>比较丑，不能用于服务端渲染同构开发</li></ul></li> <li><p>history 模式</p> <ul><li>相比 hash 浏览器兼容不太好，需要后端特殊配置</li> <li>必须运行在 http|https 服务中</li> <li>url 简洁美观，如果需要做服务端渲染同构开发，则必须使用 history 模式</li> <li>注意：使用了 history 模式之后，不要在模板中直接使用普通的 a 链接去跳转，一定要使用 router-link 或者 router.push 进行导航。</li></ul></li></ul> <h3 id="hash-模式"><a href="#hash-模式" aria-hidden="true" class="header-anchor">#</a> hash 模式</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#/page1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>页面1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#/page2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>页面2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>router-view<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> page1 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;div&gt;
        &lt;h2&gt;页面1&lt;/h2&gt;
      &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span>
    <span class="token keyword">const</span> page2 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;div&gt;
        &lt;h2&gt;页面2&lt;/h2&gt;
      &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span>
    
    <span class="token keyword">const</span> page404 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;div&gt;
        &lt;h2&gt;页面2&lt;/h2&gt;
      &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span>

    <span class="token keyword">var</span> routerView <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#router-view'</span><span class="token punctuation">)</span>
    
    window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> hash <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>hash <span class="token operator">===</span> <span class="token string">'/page1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        routerView<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> page1
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>hash <span class="token operator">===</span> <span class="token string">'/page2'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        routerView<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> page2
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        routerView<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> page404
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    window<span class="token punctuation">.</span><span class="token function">onhashchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="history-模式"><a href="#history-模式" aria-hidden="true" class="header-anchor">#</a> history 模式</h3> <ul><li>https://developer.mozilla.org/zh-CN/docs/Web/API/History</li> <li>https://router.vuejs.org/zh/guide/essentials/history-mode.html</li></ul> <h4 id="history-api"><a href="#history-api" aria-hidden="true" class="header-anchor">#</a> History API</h4> <ul><li>onpopstate 响应历史记录改变的一个事件</li> <li>pushState 创建历史记录</li> <li>前进，后退，控制</li></ul> <p>一共两个需求：</p> <ul><li>执行打开页面的操作</li> <li>历史操作记录</li></ul> <h4 id="hash"><a href="#hash" aria-hidden="true" class="header-anchor">#</a> Hash</h4> <ul><li>hashchange</li> <li>location.hash</li></ul> <h2 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h2> <h3 id="直接下载-cdn"><a href="#直接下载-cdn" aria-hidden="true" class="header-anchor">#</a> 直接下载 / CDN</h3> <p><a href="https://unpkg.com/vue-router/dist/vue-router.js" target="_blank" rel="noopener noreferrer">https://unpkg.com/vue-router/dist/vue-router.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>在 Vue 后面加载 vue-router，它会自动安装的：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/path/to/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/path/to/vue-router.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="npm"><a href="#npm" aria-hidden="true" class="header-anchor">#</a> NPM</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vue-router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果在一个模块化工程中使用它，必须要通过 <code>Vue.use()</code> 明确地安装路由功能：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果使用全局的 script 标签，则无须如此 (手动安装)。</p> <h2 id="hello-world"><a href="#hello-world" aria-hidden="true" class="header-anchor">#</a> Hello World</h2> <p>用 Vue.js + Vue Router 创建单页应用，是非常简单的。使用 Vue.js ，我们已经可以通过组合组件来组成应用程序，当你要把 Vue Router 添加进来，我们需要做的是，将组件 (components) 映射到路由 (routes)，然后告诉 Vue Router 在哪里渲染它们。下面是个基本例子：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/vue/dist/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/vue-router/dist/vue-router.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello App!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 使用 router-link 组件来导航. --&gt;</span>
    <span class="token comment">&lt;!-- 通过传入 `to` 属性指定链接. --&gt;</span>
    <span class="token comment">&lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/foo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Go to Foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Go to Bar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 路由出口 --&gt;</span>
  <span class="token comment">&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 0. 如果使用模块化机制编程，导入Vue和VueRouter，要调用 Vue.use(VueRouter)</span>

<span class="token comment">// 1. 定义 (路由) 组件。</span>
<span class="token comment">// 可以从其他文件 import 进来</span>
<span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span> template<span class="token punctuation">:</span> <span class="token string">'&lt;div&gt;foo&lt;/div&gt;'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> Bar <span class="token operator">=</span> <span class="token punctuation">{</span> template<span class="token punctuation">:</span> <span class="token string">'&lt;div&gt;bar&lt;/div&gt;'</span> <span class="token punctuation">}</span>

<span class="token comment">// 2. 定义路由</span>
<span class="token comment">// 每个路由应该映射一个组件。 其中&quot;component&quot; 可以是</span>
<span class="token comment">// 通过 Vue.extend() 创建的组件构造器，</span>
<span class="token comment">// 或者，只是一个组件配置对象。</span>
<span class="token comment">// 我们晚点再讨论嵌套路由。</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> Foo <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/bar'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> Bar <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// 3. 创建 router 实例，然后传 `routes` 配置</span>
<span class="token comment">// 你还可以传别的配置参数, 不过先这么简单着吧。</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes <span class="token comment">// (缩写) 相当于 routes: routes</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4. 创建和挂载根实例。</span>
<span class="token comment">// 记得要通过 router 配置参数注入路由，</span>
<span class="token comment">// 从而让整个应用都有路由功能</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

<span class="token comment">// 现在，应用已经启动了！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="动态路由匹配"><a href="#动态路由匹配" aria-hidden="true" class="header-anchor">#</a> 动态路由匹配</h2> <blockquote><p>https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html</p></blockquote> <hr> <h2 id="嵌套路由"><a href="#嵌套路由" aria-hidden="true" class="header-anchor">#</a> 嵌套路由</h2> <blockquote><p>https://router.vuejs.org/zh/guide/essentials/nested-routes.html</p></blockquote> <hr> <h2 id="编程式导航"><a href="#编程式导航" aria-hidden="true" class="header-anchor">#</a> 编程式导航</h2> <blockquote><p>https://router.vuejs.org/zh/guide/essentials/navigation.html</p></blockquote> <hr> <h2 id="命名路由"><a href="#命名路由" aria-hidden="true" class="header-anchor">#</a> 命名路由</h2> <hr> <h2 id="命名视图"><a href="#命名视图" aria-hidden="true" class="header-anchor">#</a> 命名视图</h2> <hr> <h2 id="重定向和别名"><a href="#重定向和别名" aria-hidden="true" class="header-anchor">#</a> 重定向和别名</h2> <hr> <h2 id="相关-api"><a href="#相关-api" aria-hidden="true" class="header-anchor">#</a> 相关 API</h2> <h3 id="路由对象-this-route"><a href="#路由对象-this-route" aria-hidden="true" class="header-anchor">#</a> 路由对象 this.$route</h3> <p>一个<strong>路由对象 (route object)</strong> 表示当前激活的路由的状态信息，包含了当前 URL 解析得到的信息，还有 URL 匹配到的<strong>路由记录 (route records)</strong>。</p> <p>路由对象是不可变 (immutable) 的，每次成功的导航后都会产生一个新的对象。</p> <p>路由对象出现在多个地方:</p> <ul><li><p>在组件内，即 <code>this.$route</code></p></li> <li><p>在 <code>$route</code> 观察者回调内</p></li> <li><p><code>router.match(location)</code> 的返回值</p></li> <li><p><strong>$route.path</strong></p> <ul><li><p>类型: <code>string</code></p> <p>字符串，对应当前路由的路径，总是解析为绝对路径，如 <code>&quot;/foo/bar&quot;</code>。</p></li></ul></li> <li><p><strong>$route.params</strong></p> <ul><li><p>类型: <code>Object</code></p> <p>一个 key/value 对象，包含了动态片段和全匹配片段，如果没有路由参数，就是一个空对象。</p></li></ul></li> <li><p><strong>$route.query</strong></p> <ul><li><p>类型: <code>Object</code></p> <p>一个 key/value 对象，表示 URL 查询参数。例如，对于路径 <code>/foo?user=1</code>，则有 <code>$route.query.user == 1</code>，如果没有查询参数，则是个空对象。</p></li></ul></li> <li><p><strong>$route.hash</strong></p> <ul><li><p>类型: <code>string</code></p> <p>当前路由的 hash 值 (带 <code>#</code>) ，如果没有 hash 值，则为空字符串。</p></li></ul></li> <li><p><strong>$route.fullPath</strong></p> <ul><li><p>类型: <code>string</code></p> <p>完成解析后的 URL，包含查询参数和 hash 的完整路径。</p></li></ul></li> <li><p><strong>$route.matched</strong></p> <ul><li>类型: <code>Array&lt;RouteRecord&gt;</code></li></ul> <p>一个数组，包含当前路由的所有嵌套路径片段的<strong>路由记录</strong> 。路由记录就是 <code>routes</code> 配置数组中的对象副本 (还有在 <code>children</code> 数组)。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 下面的对象就是路由记录</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Foo<span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 这也是个路由记录</span>
        <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> Bar <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>当 URL 为 <code>/foo/bar</code>，<code>$route.matched</code> 将会是一个包含从上到下的所有对象 (副本)。</p></li> <li><p><strong>$route.name</strong></p> <p>当前路由的名称，如果有的话。(查看<a href="https://router.vuejs.org/zh/guide/essentials/named-routes.html" target="_blank" rel="noopener noreferrer">命名路由<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p></li> <li><p><strong>$route.redirectedFrom</strong></p> <p>如果存在重定向，即为重定向来源的路由的名字。(参阅<a href="https://router.vuejs.org/zh/guide/essentials/redirect-and-alias.html" target="_blank" rel="noopener noreferrer">重定向和别名<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p></li></ul> <h3 id="router-实例"><a href="#router-实例" aria-hidden="true" class="header-anchor">#</a> Router 实例</h3> <blockquote><p>我们在组件中访问的 this.$router 就是路由文件中创建的路由实例</p></blockquote> <table><thead><tr><th>API</th> <th>作用</th> <th>备注</th></tr></thead> <tbody><tr><td>push</td> <td>跳转，会形成历史记录</td> <td>想要导航到不同的 URL，则使用 <code>router.push</code> 方法。这个方法会向 history 栈添加一个新的记录，所以，当用户点击浏览器后退按钮时，则回到之前的 URL。</td></tr> <tr><td>replace</td> <td>路径替换</td> <td>跳过去，别回来了</td></tr> <tr><td>go</td> <td>跳转到指定步骤的路由</td> <td></td></tr> <tr><td>back</td> <td>后退一步</td> <td></td></tr> <tr><td>forward</td> <td>前进一步</td> <td></td></tr> <tr><td></td> <td></td> <td></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuejs/base/chapter6.html" class="prev">第 6 章 过渡&amp;动画</a></span> <span class="next"><a href="/vuejs/base/chapter8.html">第 8 章 Vue CLI</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d141dca1.js" defer></script><script src="/assets/js/2.3338fc20.js" defer></script><script src="/assets/js/103.f9e8e238.js" defer></script>
  </body>
</html>
