<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、项目初始化 | Blood-elf</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="/favicon.png">
  <link rel="stylesheet" href="/css/style.css">
  <script charset="utf-8" src="/js/main.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.34ff1413.css" as="style"><link rel="preload" href="/assets/js/app.d141dca1.js" as="script"><link rel="preload" href="/assets/js/2.3338fc20.js" as="script"><link rel="preload" href="/assets/js/30.33aaedb5.js" as="script"><link rel="prefetch" href="/assets/js/10.1ae9bd8b.js"><link rel="prefetch" href="/assets/js/100.3fe0b234.js"><link rel="prefetch" href="/assets/js/101.d11a6165.js"><link rel="prefetch" href="/assets/js/102.9d646381.js"><link rel="prefetch" href="/assets/js/103.f9e8e238.js"><link rel="prefetch" href="/assets/js/104.6f85cd04.js"><link rel="prefetch" href="/assets/js/105.44893955.js"><link rel="prefetch" href="/assets/js/106.08f71874.js"><link rel="prefetch" href="/assets/js/107.98ec668b.js"><link rel="prefetch" href="/assets/js/108.2e3bc1fc.js"><link rel="prefetch" href="/assets/js/109.61f3e842.js"><link rel="prefetch" href="/assets/js/11.97be4997.js"><link rel="prefetch" href="/assets/js/110.cf346c03.js"><link rel="prefetch" href="/assets/js/111.ac533fe2.js"><link rel="prefetch" href="/assets/js/112.1b6d2842.js"><link rel="prefetch" href="/assets/js/113.2d532978.js"><link rel="prefetch" href="/assets/js/114.b2d2f3ec.js"><link rel="prefetch" href="/assets/js/115.d7a5c8d2.js"><link rel="prefetch" href="/assets/js/116.b272fa47.js"><link rel="prefetch" href="/assets/js/117.2048675e.js"><link rel="prefetch" href="/assets/js/118.56bbc625.js"><link rel="prefetch" href="/assets/js/119.d62d253c.js"><link rel="prefetch" href="/assets/js/12.39e4754d.js"><link rel="prefetch" href="/assets/js/120.df52a956.js"><link rel="prefetch" href="/assets/js/121.e708bafb.js"><link rel="prefetch" href="/assets/js/122.41cacbe4.js"><link rel="prefetch" href="/assets/js/123.88681497.js"><link rel="prefetch" href="/assets/js/124.d2b93a7b.js"><link rel="prefetch" href="/assets/js/13.20b189ce.js"><link rel="prefetch" href="/assets/js/14.5cf84dd2.js"><link rel="prefetch" href="/assets/js/15.7db973cd.js"><link rel="prefetch" href="/assets/js/16.14f6e2e9.js"><link rel="prefetch" href="/assets/js/17.ec22f8e4.js"><link rel="prefetch" href="/assets/js/18.6e9f758c.js"><link rel="prefetch" href="/assets/js/19.6900722c.js"><link rel="prefetch" href="/assets/js/20.ddef478d.js"><link rel="prefetch" href="/assets/js/21.614905af.js"><link rel="prefetch" href="/assets/js/22.93551be2.js"><link rel="prefetch" href="/assets/js/23.22c2e0b2.js"><link rel="prefetch" href="/assets/js/24.b64cc7ad.js"><link rel="prefetch" href="/assets/js/25.d096308d.js"><link rel="prefetch" href="/assets/js/26.11af28a6.js"><link rel="prefetch" href="/assets/js/27.824f051c.js"><link rel="prefetch" href="/assets/js/28.a248d924.js"><link rel="prefetch" href="/assets/js/29.d6b45cea.js"><link rel="prefetch" href="/assets/js/3.3ed158ee.js"><link rel="prefetch" href="/assets/js/31.1f858011.js"><link rel="prefetch" href="/assets/js/32.8a8fe43c.js"><link rel="prefetch" href="/assets/js/33.9669d98d.js"><link rel="prefetch" href="/assets/js/34.98d1a152.js"><link rel="prefetch" href="/assets/js/35.c6a97bd1.js"><link rel="prefetch" href="/assets/js/36.aa33deb9.js"><link rel="prefetch" href="/assets/js/37.00e031ce.js"><link rel="prefetch" href="/assets/js/38.0064a49d.js"><link rel="prefetch" href="/assets/js/39.3bfd12b2.js"><link rel="prefetch" href="/assets/js/4.0a474c48.js"><link rel="prefetch" href="/assets/js/40.c9aa506a.js"><link rel="prefetch" href="/assets/js/41.c641d3ad.js"><link rel="prefetch" href="/assets/js/42.ca0b826a.js"><link rel="prefetch" href="/assets/js/43.9d78ceb2.js"><link rel="prefetch" href="/assets/js/44.1c8631d5.js"><link rel="prefetch" href="/assets/js/45.87177a53.js"><link rel="prefetch" href="/assets/js/46.c5d167fe.js"><link rel="prefetch" href="/assets/js/47.a4cb5623.js"><link rel="prefetch" href="/assets/js/48.2d5671cc.js"><link rel="prefetch" href="/assets/js/49.a5571223.js"><link rel="prefetch" href="/assets/js/5.f6ebbbd7.js"><link rel="prefetch" href="/assets/js/50.7ea18df2.js"><link rel="prefetch" href="/assets/js/51.2c4d10b2.js"><link rel="prefetch" href="/assets/js/52.74a423ab.js"><link rel="prefetch" href="/assets/js/53.4649512f.js"><link rel="prefetch" href="/assets/js/54.871ac9c8.js"><link rel="prefetch" href="/assets/js/55.d4b9fd7a.js"><link rel="prefetch" href="/assets/js/56.5758b4bf.js"><link rel="prefetch" href="/assets/js/57.5656f3d9.js"><link rel="prefetch" href="/assets/js/58.6389b85a.js"><link rel="prefetch" href="/assets/js/59.a69b4255.js"><link rel="prefetch" href="/assets/js/6.957a5334.js"><link rel="prefetch" href="/assets/js/60.edd3fe9c.js"><link rel="prefetch" href="/assets/js/61.ba4b6feb.js"><link rel="prefetch" href="/assets/js/62.3df86942.js"><link rel="prefetch" href="/assets/js/63.d76f5281.js"><link rel="prefetch" href="/assets/js/64.b6fcdef8.js"><link rel="prefetch" href="/assets/js/65.dc6facb9.js"><link rel="prefetch" href="/assets/js/66.280b6efc.js"><link rel="prefetch" href="/assets/js/67.a337dcdb.js"><link rel="prefetch" href="/assets/js/68.ce1cce5c.js"><link rel="prefetch" href="/assets/js/69.af49473d.js"><link rel="prefetch" href="/assets/js/7.5346c4ac.js"><link rel="prefetch" href="/assets/js/70.ba7b389d.js"><link rel="prefetch" href="/assets/js/71.3cabe687.js"><link rel="prefetch" href="/assets/js/72.685879b9.js"><link rel="prefetch" href="/assets/js/73.638904a3.js"><link rel="prefetch" href="/assets/js/74.6e075733.js"><link rel="prefetch" href="/assets/js/75.ac283cad.js"><link rel="prefetch" href="/assets/js/76.cc22ef13.js"><link rel="prefetch" href="/assets/js/77.7df85444.js"><link rel="prefetch" href="/assets/js/78.e3d1dfd5.js"><link rel="prefetch" href="/assets/js/79.efd85d2b.js"><link rel="prefetch" href="/assets/js/8.c7e88e55.js"><link rel="prefetch" href="/assets/js/80.17fa534f.js"><link rel="prefetch" href="/assets/js/81.52e5b96e.js"><link rel="prefetch" href="/assets/js/82.806f8071.js"><link rel="prefetch" href="/assets/js/83.7a5aa025.js"><link rel="prefetch" href="/assets/js/84.f5ae8349.js"><link rel="prefetch" href="/assets/js/85.81c53ca9.js"><link rel="prefetch" href="/assets/js/86.bfe7121d.js"><link rel="prefetch" href="/assets/js/87.1f300e78.js"><link rel="prefetch" href="/assets/js/88.eeaa1d39.js"><link rel="prefetch" href="/assets/js/89.78195f9b.js"><link rel="prefetch" href="/assets/js/9.45c4e926.js"><link rel="prefetch" href="/assets/js/90.cf01763f.js"><link rel="prefetch" href="/assets/js/91.34261f85.js"><link rel="prefetch" href="/assets/js/92.2f2eb41e.js"><link rel="prefetch" href="/assets/js/93.465cd3cc.js"><link rel="prefetch" href="/assets/js/94.db66e291.js"><link rel="prefetch" href="/assets/js/95.5357f42c.js"><link rel="prefetch" href="/assets/js/96.f09d1cde.js"><link rel="prefetch" href="/assets/js/97.6dc881da.js"><link rel="prefetch" href="/assets/js/98.60c108e9.js"><link rel="prefetch" href="/assets/js/99.34a42de4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34ff1413.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blood-elf</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">STUDY</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nodejs/" class="nav-link">nodejs</a></li><li class="dropdown-subitem"><a href="/vuejs/base/" class="nav-link">vuejs</a></li><li class="dropdown-subitem"><a href="/es6/" class="nav-link">es6</a></li></ul></li><li class="dropdown-item"><h4>项目实战</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuejs/topline-pc/" class="nav-link">PC端</a></li><li class="dropdown-subitem"><a href="/vuejs/topline-mobile/" class="nav-link router-link-active">移动端</a></li></ul></li><li class="dropdown-item"><!----> <a href="/vuejs/extends/" class="nav-link">扩展</a></li><li class="dropdown-item"><h4>brower</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/js/" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Archives</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs/vue-analysis/" class="nav-link">Vue 源码解析</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">STUDY</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nodejs/" class="nav-link">nodejs</a></li><li class="dropdown-subitem"><a href="/vuejs/base/" class="nav-link">vuejs</a></li><li class="dropdown-subitem"><a href="/es6/" class="nav-link">es6</a></li></ul></li><li class="dropdown-item"><h4>项目实战</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuejs/topline-pc/" class="nav-link">PC端</a></li><li class="dropdown-subitem"><a href="/vuejs/topline-mobile/" class="nav-link router-link-active">移动端</a></li></ul></li><li class="dropdown-item"><!----> <a href="/vuejs/extends/" class="nav-link">扩展</a></li><li class="dropdown-item"><h4>brower</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/js/" class="nav-link">ES6</a></li><li class="dropdown-subitem"><a href="/css/" class="nav-link">CSS3</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Archives</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuejs/vue-analysis/" class="nav-link">Vue 源码解析</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuejs/topline-mobile/" class="sidebar-link">项目实战（移动端）</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>移动端实战</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuejs/topline-mobile/chapter1.html" class="active sidebar-link">一、项目初始化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#使用-vue-cli-初始化项目" class="sidebar-link">使用 Vue CLI 初始化项目</a></li><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#目录结构" class="sidebar-link">目录结构</a></li><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#使用-git-版本管理" class="sidebar-link">使用 Git 版本管理</a></li><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#调整目录结构" class="sidebar-link">调整目录结构</a></li><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#导入-vant" class="sidebar-link">导入 Vant</a></li><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#配置-rem-适配" class="sidebar-link">配置 REM 适配</a></li><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#封装-axios-请求函数" class="sidebar-link">封装 axios 请求函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuejs/topline-mobile/chapter1.html#处理后端返回数据超出-js-安全整数范围问题" class="sidebar-link">处理后端返回数据超出 JS 安全整数范围问题</a></li></ul></li></ul></li><li><a href="/vuejs/topline-mobile/chapter2.html" class="sidebar-link">二、从登陆开始</a></li><li><a href="/vuejs/topline-mobile/chapter3.html" class="sidebar-link">三、Token 处理</a></li><li><a href="/vuejs/topline-mobile/chapter4.html" class="sidebar-link">四、首页（上）</a></li><li><a href="/vuejs/topline-mobile/chapter5.html" class="sidebar-link">五、首页（下）</a></li><li><a href="/vuejs/topline-mobile/chapter6.html" class="sidebar-link">六、搜索</a></li><li><a href="/vuejs/topline-mobile/chapter7.html" class="sidebar-link">七、文章详情（上）</a></li><li><a href="/vuejs/topline-mobile/chapter8.html" class="sidebar-link">八、文章详情（下）</a></li><li><a href="/vuejs/topline-mobile/chapter9.html" class="sidebar-link">九、我的</a></li><li><a href="/vuejs/topline-mobile/chapter10.html" class="sidebar-link">十、编辑个人信息</a></li><li><a href="/vuejs/topline-mobile/chapter11.html" class="sidebar-link">十一、小智同学</a></li><li><a href="/vuejs/topline-mobile/chapter12.html" class="sidebar-link">十二、功能优化</a></li><li><a href="/vuejs/topline-mobile/chapter13.html" class="sidebar-link">十三、打包发布</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="一、项目初始化"><a href="#一、项目初始化" aria-hidden="true" class="header-anchor">#</a> 一、项目初始化</h1> <h2 id="使用-vue-cli-初始化项目"><a href="#使用-vue-cli-初始化项目" aria-hidden="true" class="header-anchor">#</a> 使用 Vue CLI 初始化项目</h2> <p>在命令行中输入以下命令创建 Vue 项目：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>vue create topline-webapp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>Vue CLI v3.11.0
? Please pick a preset:
  default (babel, eslint)
&gt; Manually select features
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>选择第2种：手动选择特性，支持更多自定义选项</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>? Please pick a preset: Manually select features
? Check the features needed for your project:
 (*) Babel
 ( ) TypeScript
 ( ) Progressive Web App (PWA) Support
 (*) Router
 (*) Vuex
 (*) CSS Pre-processors
&gt;(*) Linter / Formatter
 ( ) Unit Testing
 ( ) E2E Testing
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>分别选择：</p> <p>Babel：es6 转 es5</p> <p>Router：路由</p> <p>Vuex：容器</p> <p>CSS Pre-processors：CSS预处理器</p> <p>Linter / Formatter：代码格式校验</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>? Use history mode for router? (Requires proper server setup for index fallback in production) (Y/n) n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>是否使用 history 路由模式，这里输入 n 不使用</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default):

  Sass/SCSS (with dart-sass)
  Sass/SCSS (with node-sass)
&gt; Less
  Stylus
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>选择 CSS 预处理器，这里选择我们熟悉的 Less</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>? Pick a linter / formatter config:
  ESLint with error prevention only
  ESLint + Airbnb config
<span class="token operator">&gt;</span> ESLint + Standard config
  ESLint + Prettier
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>选择校验工具，这里选择 ESLint + <a href="https://standardjs.com/" target="_blank" rel="noopener noreferrer">Standard config<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>? Pick additional lint features:
 (*) Lint on save
&gt;(*) Lint and fix on commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>选择在什么时机下触发代码格式校验：</p> <ul><li>Lint on save：每当保存文件的时候</li> <li>Lint and fix on commit：每当执行 <code>git commit</code> 提交的时候</li></ul> <p>这里建议两个都选上，更安全。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>? Where <span class="token keyword">do</span> you prefer placing config <span class="token keyword">for</span> Babel, PostCSS, ESLint, etc.? <span class="token punctuation">(</span>Use arrow keys<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> In dedicated config files
  In package.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>Babel、ESLint 等工具会有一些额外的配置文件，这里的意思是问你将这些工具相关的配置文件写到哪里：</p> <ul><li>In dedicated config files：分别保存到单独的配置文件</li> <li>In package.json：保存到 package.json 文件中</li></ul> <p>这里讲义选择第1个，保存到单独的配置文件，这样方便我们做自定义配置。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>? Save this as a preset <span class="token keyword">for</span> future projects? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>这里是问你是否需要将刚才选择的一系列配置保存起来，然后它可以帮你记住上面的一系列选择，以便下次直接重用。</p> <p>这里根据自己需要输入 y 或者 n，我这里输入 n 不需要。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>✨  Creating project <span class="token keyword">in</span> C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>LPZ<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>topline-mweb.
�  Initializing <span class="token function">git</span> repository<span class="token punctuation">..</span>.
⚙  Installing CLI plugins. This might take a while<span class="token punctuation">..</span>.

<span class="token punctuation">[</span>     <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token operator">|</span> loadDep:unpipe: s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>向导配置结束，开始装包。</p> <p>安装包的时间可能较长，请耐心等待......</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>added <span class="token number">132</span> packages from <span class="token number">118</span> contributors, updated <span class="token number">2</span> packages and moved <span class="token number">9</span> packages <span class="token keyword">in</span> <span class="token number">20</span>.506s ⚓  Running completion hooks<span class="token punctuation">..</span>.

�  Generating README.md<span class="token punctuation">..</span>.

�  Successfully created project topline-mweb.
�  Get started with the following commands:

 $ <span class="token builtin class-name">cd</span> topline-mweb
 $ <span class="token function">npm</span> run serve
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>安装结束，命令提示你项目创建成功，按照命令行的提示在终端中分别输入：</p> <ul><li><code>cd 你的项目</code></li> <li><code>npm run serve</code></li></ul></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> DONE  Compiled successfully <span class="token keyword">in</span> 7527ms                                           


  App running at:
  - Local:   http://localhost:8080/
  - Network: http://192.168.10.216:8080/

  Note that the development build is not optimized.
  To create a production build, run <span class="token function">npm</span> run build.
  

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>启动成功，命令行中输出项目的 http 访问地址。</p> <p>打开浏览器，输入其中任何一个地址进行访问。</p></blockquote> <p><img src="/assets/img/1562207613736.bb3a6f96.png" alt="1562207613736"></p> <blockquote><p>如果能看到该页面，恭喜你，项目创建成功了。</p></blockquote> <h2 id="目录结构"><a href="#目录结构" aria-hidden="true" class="header-anchor">#</a> 目录结构</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>├── babel.config.js	babel配置文件
├── package-lock.json	npm相关文件
├── package.json	npm相关文件
├── postcss.config.js	postcss配置文件
├── public	静态资源托管目录
│   ├── favicon.ico
│   └── index.html
├── README.md	项目说明文件
└── src	源码
    ├── App.vue	根组件
    ├── assets	资源目录
    ├── components	组件目录
    ├── main.js	入口文件
    ├── router.js	路由模块
    ├── store.js	vuex容器模块
    └── views  视图组件目录
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="使用-git-版本管理"><a href="#使用-git-版本管理" aria-hidden="true" class="header-anchor">#</a> 使用 Git 版本管理</h2> <p>1、创建远程仓库</p> <p>2、将本地仓库推到线上</p> <p>Vue CLI 生成的项目默认完成了一次提交，所以这里只需要 push 到线上即可。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">add</span> 远程仓库地址
<span class="token function">git</span> push -u origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>之后如果需要提交，则：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;提交日志&quot;</span>
<span class="token function">git</span> push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="调整目录结构"><a href="#调整目录结构" aria-hidden="true" class="header-anchor">#</a> 调整目录结构</h2> <ul><li>删除初始化的默认文件</li> <li>新增我们需要的目录结构</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>├── babel.config.js	babel配置文件
├── package-lock.json	npm相关文件
├── package.json	npm相关文件
├── postcss.config.js	postcss配置文件
├── public	静态资源托管目录
│   ├── favicon.ico
│   └── index.html
├── README.md	项目说明文件
└── src	源码
    ├── api	请求接口封装模块
    ├── App.vue	根组件
    ├── assets	资源目录
    ├── components	组件目录
    ├── main.js	入口文件
    ├── router	路由模块
    ├── store	 Vuex容器模块
    ├── styles 样式目录
    ├── utils  工具模块目录
    └── views  视图组件目录
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>在 src 中创建几个目录：</p> <ul><li>api
<ul><li>存储请求函数模块</li></ul></li> <li>router
<ul><li>路由文件模块</li></ul></li> <li>store
<ul><li>Vuex 容器模块</li></ul></li> <li>styles
<ul><li>样式文件模块</li></ul></li> <li>utils
<ul><li>工具函数模块</li></ul></li></ul> <p>将 App.vue 修改为：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>将 router.js 移动到 router 目录并重命名为 index.js，修改为如下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>将 store.js 移动到 store 目录重命名为 index.js（原来代码保持不变）。</p> <p>删除默认生成的一些文件：</p> <ul><li>components/HelloWorld.vue</li> <li>views/Home.vue</li> <li>views/About.vue</li> <li>assets/logo.png</li></ul> <p>Git 只能管理文件，对于空目录不会进行版本管理，所以建议在空目录中添加一个 <code>.gitkeep</code> 空文件以保持提交历史中的目录结构。</p> <p>调整之后的目录结构如下：</p> <p><img src="/assets/img/1566441698064.004f0c3e.png" alt="1566441698064"></p> <p>最后，让我们来提交一下：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;调整目录结构&quot;</span>

<span class="token function">git</span> push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="导入-vant"><a href="#导入-vant" aria-hidden="true" class="header-anchor">#</a> 导入 Vant</h2> <blockquote><p>参考：</p> <ul><li>https://youzan.github.io/vant/#/zh-CN/quickstart</li></ul></blockquote> <p>基于 Vue.js 的移动端组件库有很多，在官方的 <a href="https://github.com/vuejs/awesome-vue#mobile" target="_blank" rel="noopener noreferrer">awesome<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中也推荐了一些，在我们的项目中使用的是有赞开发的 <a href="https://github.com/youzan/vant" target="_blank" rel="noopener noreferrer">Vant<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>下面是把 Vant 配置到项目中的操作流程。</p> <p>两种引入方式：</p> <ul><li>全部加载
<ul><li>好处：开发的时候方便，直接使用</li> <li>缺点：打包体积大</li></ul></li> <li>按需加载
<ul><li>好处：只打包使用到的组件，有利于打包结果优化，体积小</li> <li>缺点：使用麻烦，用谁就得 import 加载谁</li></ul></li></ul> <p>建议：开发的时候全部加载进来，使用方便，最后发布上线，我们使用按需加载进行打包结果优化。</p> <p>1、安装 Vant</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i vant
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2、引入组件</p> <p>官方提供了四种方式引入组件，我们这里先使用最简单的方式：导入所有组件</p> <p>3、然后在 <code>main.js</code> 中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">...</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vant <span class="token keyword">from</span> <span class="token string">'vant'</span>
<span class="token keyword">import</span> <span class="token string">'vant/lib/index.css'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>初期开发为了简单省事我们先这样做，直接全部加载；后面发布上线的时候我们再将这里修改自动按需引入组件进行项目优化。</p></blockquote> <h2 id="配置-rem-适配"><a href="#配置-rem-适配" aria-hidden="true" class="header-anchor">#</a> 配置 REM 适配</h2> <p>一、使用 <a href="https://github.com/cuth/postcss-pxtorem" target="_blank" rel="noopener noreferrer">postcss-pxtorem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 将 px 转为 rem</p> <p>安装：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> postcss-pxtorem --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后将项目中的 <code>babel.config.js</code> 修改为：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  presets<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'@vue/app'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      libraryName<span class="token punctuation">:</span> <span class="token string">'vant'</span><span class="token punctuation">,</span>
      libraryDirectory<span class="token punctuation">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
      style<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'vant'</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在浏览器中审查元素的样式查看是否已转换为 rem。</p> <blockquote><p>注意：</p> <ul><li><strong>只能转换单独的 css 文件、.vue 文件中的 style 中的 px</strong></li> <li><strong>不能转换行内样式中的 px</strong></li></ul></blockquote> <p>二、使用 <a href="https://github.com/amfe/lib-flexible" target="_blank" rel="noopener noreferrer">amfe-flexible<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 动态设置 html 标签的字体大小</p> <p>安装：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i amfe-flexible
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后在 <code>main.js</code> 中新增：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token string">'amfe-flexible/index.js'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>测试：在浏览器中切换不同的手机设备尺寸，观察 html 标签 <code>font-size</code> 的变化。</p> <h2 id="封装-axios-请求函数"><a href="#封装-axios-请求函数" aria-hidden="true" class="header-anchor">#</a> 封装 axios 请求函数</h2> <p>安装 axios：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i axios
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建 <code>utils/request.js</code> 并写入以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">const</span> request <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token punctuation">:</span> <span class="token string">'http://ttapi.research.itcast.cn'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Add a request interceptor</span>
request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something before request is sent</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with request error</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Add a response interceptor</span>
request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with response data</span>
  <span class="token keyword">return</span> response
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with response error</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> request

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>调用测试。</p> <h3 id="处理后端返回数据超出-js-安全整数范围问题"><a href="#处理后端返回数据超出-js-安全整数范围问题" aria-hidden="true" class="header-anchor">#</a> 处理后端返回数据超出 JS 安全整数范围问题</h3> <blockquote><p>注意：该项目所使用的后端接口数据中包含超出 JavaScript 安全整数范围的数字，所以也需要像之前的 PC 端项目一样使用 <a href="https://github.com/sidorares/json-bigint" target="_blank" rel="noopener noreferrer">json-bigint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 将后端返回数据处理一下才能正确使用。</p></blockquote> <p>安装 json-bigint：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i json-bigint
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在 <code>utils/request.js</code> 中新增：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>request<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>transformResponse <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// data 数据可能不是标准的 JSON 格式字符串，否则会导致 JSONbig.parse(data) 转换失败报错</span>
    <span class="token keyword">return</span> JSONbig<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 无法转换的数据直接原样返回</span>
    <span class="token keyword">return</span> data
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>请求测试。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuejs/topline-mobile/" class="prev router-link-active">项目实战（移动端）</a></span> <span class="next"><a href="/vuejs/topline-mobile/chapter2.html">二、从登陆开始</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d141dca1.js" defer></script><script src="/assets/js/2.3338fc20.js" defer></script><script src="/assets/js/30.33aaedb5.js" defer></script>
  </body>
</html>
